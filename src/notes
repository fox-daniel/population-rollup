REMOVE ROW LIMIT IN GROUPBY_CBSA
DONT FORGET TO REREAD THE DIRECTIONS
DONT FORGET TO APPLY black and other formatting and checks
RUN ON AWS LINUX MACHINE

There are 74003 rows; row 0 is column names; 74002 rows of census data

CREATE VIRTUALENV WITH JUST PYTHON3.7.3



Switch dictionary access to .get method and report to error log

CSI = 3 if outside of CBSA

CBSA title has "," so enclose title in double quotes

How will my solution scale? 
	Test on a larger data set, generate it so it can be used for tests

Tests: separate folder for each test
	-to run test, move input & output csv's to top-level input and output directories and run code
	-use pandas to generate input and output files for tests
	-Unit
	-End-to-end
	-move all reused functions to a module in src
	-test rounding
	-tests for data with problematic or missing values in different columns
	- what if csv has blank row?

Run.sh
	use python3.7 command in 
	create empty log files for all tests and for main script

For this challenge, we want to know for each Core Based Statistical Area, the

total number of census tracts,
total population in 2000,
total population in 2010 and
average population percent change for census tracts in this Core Based Statistical Area

1. select relevant columns
2. groupby CBSA -- Must deal with tracts not in CBSA 
	count number of census tracts
	sum pop from 2000
	sum pop from 2010
	mean PCH

For every line that exists in the output file, the following fields should be written in this order:

Core Based Statstical Area Code (i.e., CBSA09)
Core Based Statistical Area Code Title (i.e., CBSA_T)
total number of census tracts
total population in the CBSA in 2000
total population in the CBSA in 2010
average population percent change for census tracts in this CBSA. Round to two decimal places using standard rounding conventions (i.e., Any percentage between 0.005% and 0.010%, inclusive, should round to 0.01% and anything less than 0.005% should round to 0.00%)



Add to README

PPCH = '(X)'
When PP00 is 0 the PPCH is reported as infinite using the symbol '(X)'. This is done even if PP10 is also 0 even though in that case one could argue to report the PPCH as 0. When a CBSA contains a census tract for which PPCH is reported as '(X)', then the average PPCH over the CBSA is reported as '(X)' under the convention that infinity plus a finite number (or infinity) is infinity. Other reporting options might prove more useful. For example, the census tracts with PPCH = '(X)' could be dropped from the computation of the average. Another possibility would be to set PPCH = 0 if PP00 = PP10 = 0; this would apply to some CBSAs but still require a choice to be made when PP00 = 0 and PP10 > 0.

test_4
This tests two transformations:
	1. If the CBSA09 or CBSA_T are missing they are filled with GEOID and "MISSING", respectively.
	2. The subset of columns needed are selected and the rest are dropped.